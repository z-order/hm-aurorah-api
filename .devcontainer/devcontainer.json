// For format details, see https://aka.ms/devcontainer.json. For config options, see the
// README at: https://github.com/devcontainers/templates/tree/main/src/python
{
    "name": "Python 3",
    // Or use a Dockerfile or Docker Compose file. More info: https://containers.dev/guide/dockerfile
    "image": "mcr.microsoft.com/devcontainers/python:1-3.13-bookworm",
    // Docker run arguments: --name <container-name>
    "runArgs": ["--name", "vscode-hm-aurorah-api", "--add-host=host.docker.internal:host-gateway"],

    // Features to add to the dev container. More info: https://containers.dev/features.
    // "features": {},

    // Use 'forwardPorts' to make a list of ports inside the container available locally. (access them from the host)
    // "forwardPorts": [],

    // Use 'postCreateCommand' to run commands after the container is created.
    "postCreateCommand": "sudo apt-get update && sudo apt-get install -y postgresql-client redis-tools && pip install jupyterlab && pip install -r requirements.txt && pip install --upgrade pip",

    // Configure tool-specific properties.
    "customizations": {
        "vscode": {
            // Set VS Code extensions to install
            "extensions": [
                "ms-python.black-formatter", // Black formatter extension
                "ms-python.isort", // Isort extension
                "esbenp.prettier-vscode", // Prettier extension
                "redhat.vscode-yaml", // YAML extension
                "tamasfe.even-better-toml", // TOML syntax highlighting extension
                "charliermarsh.ruff" // Ruff extension (linting/import sorting)
                // "ms-python.python", // VS Code Python extension; not needed in Cursor (built-in), may conflict
                // "ms-python.vscode-pylance", // VS Code-specific "python.analysis.*" in .vscode/settings.json (not optimized for Cursor)
                // "ms-python.flake8" // Flake8 extension
            ]
        }
    },

    // Uncomment to connect as root instead. More info: https://aka.ms/dev-containers-non-root.
    // "remoteUser": "root"

    // Environment variables
    "containerEnv": {
        "ENVIRONMENT": "development"
    }
}
